# Raytracer P3

Это третья подзадача [домашнего задания про рейтрейсер](../raytracer). В рамках этой задачи вам нужно реализовать упрощенные режимы работы рейтрейсера, которые помогут вам отловить основные ошибки при работе с камерой, трейсинге лучей и реализации геометрии.

Прочитайте описание основного задания перед выполнением этого. Здесь вам нужно реализовать поддержку режимов `RenderMode::kDepth` и `RenderMode::kNormal`. **Обратите внимание**, что реализация должна быть выполнена в рамках общей задачи `raytracer` (т.е. вы не пишите отдельное решение в этой задаче) --- система тестирования не отправляет файлы из этой директории. Но для сдачи этой задачи поддержка `RenderMode::kFull` не требуется.

В режиме `RenderMode::kDepth` при трейсинге луча результирующим цветом пикселя будет расстояние до ближайшего объекта, в который попал луч. Пусть при испускании луча из камеры через очередной пиксель этот луч попадает в объект на расстоянии $`d`$. Тогда результирующим значением для этого пикселя будет тройка $`(d, d, d)`$. Обратите внимание, что в итоге для записи изображения все значения нужно привести в диапазон [0, 1]. Для этого:

* Там, где луч не пересекает сцену, используйте значение (1, 1, 1).
* Пусть максимальное расстояние по всем объектам при рейтрейсинге составило $`D`$. Тогда итоговым значением для пикселя будет тройка $`\left(\frac{d}{D}, \frac{d}{D}, \frac{d}{D}\right)`$.

В режиме `RenderMode::kNormal` при трейсинге луча результирующим цветом будет значение нормали в точке пересечения луча с ближайшим объектом. При этом нормаль должна быть направлена в противоположную лучу сторону. Поскольку вектор нормали нормирован, то все координаты будут в диапазоне [-1, 1]. Для отображения изображения их нужно привести в диапазон [0, 1]. Для этого:

* Там, где луч не пересекает сцену, используйте значение (0, 0, 0) в качестве результата.
* Пусть очередной вектор нормали получился равным $`\bar v`$. Тогда в качестве результата используйте $`\frac{1}{2}\bar v + \frac{1}{2}`$.
* Для сдачи задания поменяйте содержимое этой директории (например, создав пустой файл)
и отправте эти изменения в свой удалённый репозиторий.
